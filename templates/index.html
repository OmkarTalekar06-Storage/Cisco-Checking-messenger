<!DOCTYPE html>
<html>
<head>
    <title>Local Chat App</title>
</head>
<body>

<h2>Private Network Chat</h2>

<input type="text" id="name" placeholder="Your Name">
<br><br>
<input type="text" id="message" placeholder="Type Message">
<button onclick="sendMessage()">Send</button>

<hr>

<div id="chatbox"></div>

<script>

function sendMessage() {
    var name = document.getElementById("name").value;
    var message = document.getElementById("message").value;

    var formData = new FormData();
    formData.append("name", name);
    formData.append("message", message);

    fetch("/send", {
        method: "POST",
        body: formData
    });
}

function loadMessages() {
    fetch("/get")
    .then(response => response.json())
    .then(data => {
        var chatbox = document.getElementById("chatbox");
        chatbox.innerHTML = "";
        for (var i = 0; i < data.length; i++) {
            chatbox.innerHTML += "<p>" + data[i] + "</p>";
        }
    });
}

setInterval(loadMessages, 1000);

</script>

</body>
</html>
